# Чтение данных со стороны сервера
## Разберем код 

### accept
```cpp
acceptor.accept(socket,ec);
if (ec) {
	cout << ec.message();
	return 1;
}
```
В этом примере в функцию ожидания подключения передается второй параметр `ec`, в который будет записан итог попытки подключения клиента. Далее идет проверка: если `ec` не равен нулю, то выведется сообщение об ошибке, и программа завершит свою работу с кодом 1.

### vector
```cpp
vector<char>buf(100);
```
Создаем буфер для чтения данных в него.
### read_some
```cpp
size_t length = socket.read_some(asio::buffer(buf), ec);
if (ec) {
	cout << ec.message();
	return 1;
}

for (int i = 0; i < length; i++) {
	cout << buf[i];
}
```
Функция [read_some](https://www.boost.org/doc/libs/1_86_0/doc/html/boost_asio/reference/ssl__stream/async_read_some.html) выполняет чтение данных из сокета и возвращает количество прочитанных символов, которое записывается в переменную `length`. В качестве параметра функция принимает `asio::buffer(buf)`, что указывает на буфер, в который будут записаны данные. Результат выполнения функции будет записан в параметр `ec`. Далее следует знакомая обработка ошибок и цикл вывода полученных данных.